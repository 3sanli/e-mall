CREATE TABLE User(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
mobile VARCHAR (11) NOT NULL ,
nickName VARCHAR (20) NULL ,
password VARCHAR (36) NOT NULL ,
permission INT NOT NULL ,
credit INT NOT NULL
);

CREATE TABLE Store(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
name VARCHAR (30) NOT NULL ,
introduction VARCHAR (20) NOT NULL ,
creatorId BIGINT NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
credit INT NOT NULL ,
FOREIGN KEY (creatorId) REFERENCES User(id)
);

CREATE TABLE ProvinceDict(
id BIGINT NOT NULL PRIMARY KEY ,
province VARCHAR (20) NOT NULL
);

CREATE TABLE CityDict(
id BIGINT NOT NULL PRIMARY KEY ,
city VARCHAR (20) NOT NULL
);

CREATE TABLE AreaDict(
id BIGINT NOT NULL PRIMARY KEY ,
area VARCHAR (20) NOT NULL
);

CREATE TABLE AddressDict(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
provinceId BIGINT NOT NULL,
cityId BIGINT NOT NULL,
areaId BIGINT NOT NULL,
FOREIGN KEY (provinceId) REFERENCES ProvinceDict(id),
FOREIGN KEY (cityId) REFERENCES CityDict(id),
FOREIGN KEY (areaId) REFERENCES AreaDict(id)
);

CREATE TABLE UserAddress(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
userId BIGINT NOT NULL,
addressDictId BIGINT NOT NULL,
FOREIGN KEY (userId) REFERENCES User(id),
FOREIGN KEY (addressDictId) REFERENCES AddressDict(id)
);

CREATE TABLE Picture(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
picture VARCHAR (50) NOT NULL
);

CREATE TABLE UserPicture(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
userId BIGINT NOT NULL,
pictureId BIGINT NOT NULL,
FOREIGN KEY (userId) REFERENCES User(id),
FOREIGN KEY (pictureId) REFERENCES Picture(id)
);

CREATE TABLE ProductCategoryDict(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
category VARCHAR (20) NOT NULL
);

CREATE TABLE Product(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
name VARCHAR (30) NOT NULL ,
productCategoryId BIGINT NOT NULL ,
price BIGINT NOT NULL ,
introduction VARCHAR (100) NOT NULL ,
creatorId BIGINT NOT NULL ,
creatorName VARCHAR (20) NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
credit INT NOT NULL,
FOREIGN KEY (productCategoryId) REFERENCES ProductCategoryDict(id),
FOREIGN KEY (creatorId) REFERENCES User(id)
);

CREATE TABLE ProductPicture(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
productId BIGINT NOT NULL,
pictureId BIGINT NOT NULL,
FOREIGN KEY (productId) REFERENCES Product(id),
FOREIGN KEY (pictureId) REFERENCES Picture(id)
);

CREATE TABLE Favorites(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
productId BIGINT NOT NULL ,
creatorId BIGINT NOT NULL ,
creatorName VARCHAR (20) NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
FOREIGN KEY (productId) REFERENCES Product(id),
FOREIGN KEY (creatorId) REFERENCES User(id)
);

CREATE TABLE Comment(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
productId BIGINT NOT NULL ,
comment VARCHAR (2000) NOT NULL ,
credit INT NOT NULL,
creatorId BIGINT NOT NULL ,
creatorName VARCHAR (20) NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
FOREIGN KEY (productId) REFERENCES Product(id),
FOREIGN KEY (creatorId) REFERENCES User(id)
);

CREATE TABLE Dialogue(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
productId BIGINT NOT NULL ,
message VARCHAR (2000) NOT NULL ,
creatorId BIGINT NOT NULL ,
creatorName VARCHAR (20) NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
FOREIGN KEY (productId) REFERENCES Product(id),
FOREIGN KEY (creatorId) REFERENCES User(id)
);

CREATE TABLE Form(
id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
productId BIGINT NOT NULL ,
status INT NOT NULL ,
creatorId BIGINT NOT NULL ,
creatorName VARCHAR (20) NOT NULL ,
createdTime DATETIME NOT NULL DEFAULT NOW() ,
FOREIGN KEY (productId) REFERENCES Product(id),
FOREIGN KEY (creatorId) REFERENCES User(id)
);